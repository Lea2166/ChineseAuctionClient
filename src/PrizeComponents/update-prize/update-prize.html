

<form nz-form [formGroup]="prizeData" (ngSubmit)="submitForm()" nzLayout="vertical" class="prize-form">

    <div nz-row [nzGutter]="8">
        <div nz-col nzSpan="12">
            <nz-form-item>
                <nz-form-label>Prize Name</nz-form-label>
                <nz-form-control>
                    <input nz-input placeholder="Enter prize name" formControlName="name" />
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="12">
            <nz-form-item>
                <nz-form-label>Quantity</nz-form-label>
                <nz-form-control nzErrorTip="Quantity must be at least 1">
                    <input nz-input type="number" placeholder="Qty" formControlName="qty" />
                </nz-form-control>
            </nz-form-item>
        </div>
    </div>

    <div nz-row [nzGutter]="8">
        <div nz-col nzSpan="12">
            <nz-form-item>
               
                <nz-form-label>Donor</nz-form-label>

                <nz-form-control>
                    <nz-select nzPlaceHolder="Select donor" formControlName="donorId">
                        @for(donor of donors; track donor.id) {
                        <nz-option [nzValue]="donor.id"
                            [nzLabel]="donor.company || (donor.firstName + ' ' + donor.lastName)"></nz-option>
                        }
                    </nz-select>

                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="12">
            <nz-form-item>
                <nz-form-label>Category</nz-form-label>
                <nz-form-control>
                    <nz-select nzPlaceHolder="Select categories" nzMode="multiple" formControlName="categoryIds">
                        @for(category of categories; track category.id){
                        <nz-option [nzLabel]="category.name" [nzValue]="category.id"></nz-option>
                        }
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
    </div>

    <div nz-row [nzGutter]="8">
        <div nz-col nzSpan="24">
            <nz-form-item>
                <nz-form-label>Description</nz-form-label>
                <nz-form-control>
                    <textarea nz-input placeholder="Write a short description about the prize"
                        formControlName="description" [nzAutosize]="{ minRows: 4, maxRows: 4 }"></textarea>
                </nz-form-control>
            </nz-form-item>
        </div>
    </div>

    <div nz-row [nzGutter]="8">
        <div nz-col nzSpan="24">
            <nz-form-item>
                <nz-form-label>Prize Image</nz-form-label>
                <nz-form-control>
                    <nz-upload nzType="drag" [nzMultiple]="false" nzAction="https://localhost:7156/upload"
                        [(nzFileList)]="fileList" nzAccept="image/*" nzListType="picture"
                        [nzDisabled]="fileList.length >= 1" [nzLimit]="1" (nzChange)="handleUploadChange($event)">

                        <p class="ant-upload-drag-icon">
                            <span nz-icon nzType="picture"></span>
                        </p>
                        <p class="ant-upload-text">Click or drag image to this area to upload</p>
                        <p class="ant-upload-hint">Support for a single image upload.</p>
                    </nz-upload>
                </nz-form-control>
            </nz-form-item>
        </div>
    </div>
    <div class="modal-footer">

        <button nz-button nzType="primary" type="submit">
            Save Prize
        </button>

    </div>
</form>

<!-- </nz-modal> -->